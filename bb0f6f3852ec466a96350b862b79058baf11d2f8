{
  "comments": [
    {
      "key": {
        "uuid": "47ed604d_7a16a4d5",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 183
      },
      "writtenOn": "2019-09-17T13:03:51Z",
      "side": 1,
      "message": "you know that the problem this time around wasn\u0027t in the logs directory, but inside kubelet/pods? :)\nplugins log rotate is still nice, of course, but this time we had a different failure, which requires different handling",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c60b9f6a_86460b25",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 185
      },
      "writtenOn": "2019-09-17T14:09:06Z",
      "side": 1,
      "message": "This is just the caas-utils.rpm logging content. I moved to caas-instantiate.rpm. The logging uses the kubelet_root_dir and since the path is available at ansible runtime I decided to move it here (or I could read up the caas.yaml file on the fly while building the utils.rpm)\nBut not sure it is a better strategy.\nThis review aims only adding the kubelet root directory as a parameter.\nThe other (java/elastic/root disk fils up) points are not forgotten, but I wanted to create separate reviews for them.",
      "parentUuid": "47ed604d_7a16a4d5",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10332bd7_6d632e0d",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 38,
      "author": {
        "id": 186
      },
      "writtenOn": "2019-09-17T16:03:25Z",
      "side": 1,
      "message": "This task is needless, blockinfile handles state.",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a21fc0e_97615078",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 38,
      "author": {
        "id": 185
      },
      "writtenOn": "2019-09-17T16:33:22Z",
      "side": 1,
      "message": "I tested it without this and got syslog file with double customization. So something like this:\n...\n/var/log/spooler\n{\n#CaaS CUSTOM BEGIN\n    hourly\n    size 50\n#CaaS CUSTOM END\n# BEGIN ANSIBLE MANAGED BLOCK\n#CaaS CUSTOM BEGIN\n    hourly\n    size 50\n#CaaS CUSTOM END\n# END ANSIBLE MANAGED BLOCK\n    missingok\n    sharedscripts\n...\n\nSo, in theory, yes it manages in practice nope.",
      "parentUuid": "10332bd7_6d632e0d",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad12ba66_3bffc51b",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 49,
      "author": {
        "id": 186
      },
      "writtenOn": "2019-09-17T16:03:25Z",
      "side": 1,
      "message": "Better to use marker from blockinfile https://docs.ansible.com/ansible/latest/modules/blockinfile_module.html",
      "range": {
        "startLine": 49,
        "startChar": 5,
        "endLine": 49,
        "endChar": 24
      },
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce18cd69_b15a6f9e",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 186
      },
      "writtenOn": "2019-09-17T16:03:25Z",
      "side": 1,
      "message": "Are these configs still needed?",
      "range": {
        "startLine": 50,
        "startChar": 10,
        "endLine": 51,
        "endChar": 17
      },
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b604a386_132f1aa6",
        "filename": "ansible/roles/log/tasks/main.yml",
        "patchSetId": 14
      },
      "lineNbr": 51,
      "author": {
        "id": 185
      },
      "writtenOn": "2019-09-17T16:33:22Z",
      "side": 1,
      "message": "It doesn\u0027t hurt.",
      "parentUuid": "ce18cd69_b15a6f9e",
      "range": {
        "startLine": 50,
        "startChar": 10,
        "endLine": 51,
        "endChar": 17
      },
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f578b4c1_f11de210",
        "filename": "infra-charts/templates/sriovdp-ds.yaml",
        "patchSetId": 14
      },
      "lineNbr": 77,
      "author": {
        "id": 183
      },
      "writtenOn": "2019-09-17T13:03:51Z",
      "side": 1,
      "message": "SR-IOV and CPU Pooler TCs shall be re-executed before this can be merged",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c9fcb4c_ae7b969f",
        "filename": "infra-charts/templates/sriovdp-ds.yaml",
        "patchSetId": 14
      },
      "lineNbr": 77,
      "author": {
        "id": 185
      },
      "writtenOn": "2019-09-17T14:09:06Z",
      "side": 1,
      "message": "Agreed, image building is on the way. But found other issues on the way",
      "parentUuid": "f578b4c1_f11de210",
      "revId": "bb0f6f3852ec466a96350b862b79058baf11d2f8",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    }
  ]
}